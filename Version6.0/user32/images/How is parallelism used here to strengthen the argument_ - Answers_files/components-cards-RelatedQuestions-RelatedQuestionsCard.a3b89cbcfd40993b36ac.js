"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7557],{89285:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(85061),a=n(28481),l=n(67294),c=n(60371),o=n(87958),i=n(59802),s=n(57050),u=n(71905),m=n(27157),f=n(70399),d=n(84751),h=n(51994),v=n(85125),g=function(e){var t=e.question,n=e.answerLengthForRelatedQs,r=e.onClick,a=e.lastItem,o=(0,i.Z)("show_iab_icons",!0),s={WebkitLineClamp:n||2};return l.createElement(l.Fragment,null,l.createElement(c.Z,{href:t.href},l.createElement(h.Z,{onClick:r,extraClasses:"my-4 mx-auto",cardBody:function(){if(t.title)return l.createElement(l.Fragment,null,o?l.createElement(v.Z,{icon:t.icon?t.icon:void 0,circleSize:40,iconSize:20}):null,l.createElement("div",{className:"flex flex-wrap text-primaryText h-17"},l.createElement("h3",{className:"w-full headline2"},t.title+"?"),function(){if(t.answer)return l.createElement("div",null,l.createElement("p",{className:"overflow-hidden body1 line-clamp break-all mt-2 mb-0",style:s},t.answer))}()))}})),!a&&l.createElement("hr",{className:"text-black text-opacity-10"}))},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0px",n=(0,l.useState)(!1),r=(0,a.Z)(n,2),c=r[0],o=r[1];return(0,l.useEffect)((function(){var n=new IntersectionObserver((function(e){var t=(0,a.Z)(e,1)[0];o(t.isIntersecting)}),{rootMargin:t});return e.current&&n.observe(e.current),function(){n.unobserve(e.current)}}),[]),c},E=n(37553);function b(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){o=!0,l=e},f:function(){try{c||null==n.return||n.return()}finally{if(o)throw l}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=function(e){var t,n=e.answerLengthForRelatedQs,h=e.useCase,v=void 0===h?0:h,y=e.questionId,_=(0,l.useState)(null!==(t=e.questions)&&void 0!==t?t:[]),w=(0,a.Z)(_,2),Z=w[0],x=w[1],N=(0,l.useState)(!1),C=(0,a.Z)(N,2),S=C[0],k=C[1],q=parseInt((0,i.Z)("show_related_questions",12)),A=(0,l.useState)(q),L=(0,a.Z)(A,2),j=L[0],I=L[1],R=(0,o.Z)(),F=(0,m.S_)(),O=(0,l.useState)(null),D=(0,a.Z)(O,2),Q=D[0],B=D[1],M=(0,l.useState)(0),T=(0,a.Z)(M,2),z=T[0],G=T[1],H=(0,l.useRef)(),U=p(H,"0px"),K=(0,l.useState)(!1),P=(0,a.Z)(K,2),V=P[0],W=P[1],$=(0,l.useState)(1),J=(0,a.Z)($,2),X=J[0],Y=J[1],ee=(0,i.Z)("related_questions_card_max_topics",10),te=(0,i.Z)("bullet_adtech_enabled",!0),ne=(0,l.useState)({}),re=(0,a.Z)(ne,2),ae=re[0],le=re[1],ce=["/api/question/",y,"/related?count=",q,"&page=",z].join(""),oe=(0,d.v9)((function(e){var t;return null!==(t=e.pageData.requestedMill)&&void 0!==t&&t}));oe&&(ce+="&mill=".concat(oe)),(0,l.useEffect)((function(){0!=Z.length||Q||se()}),[]),(0,l.useEffect)((function(){te&&le({id:"between-related-qs",dynamic:!0,injectConfig:{beforeAds:3,betweenAds:3}})}),[]),(0,l.useEffect)((function(){U&&!V&&(ie("Impression",v,null),W(!0))}),[U]);var ie=function(e,t,n){if(!F)return null;(0,f.qP)({eventCategory:"Related Question Engagement",eventAction:e,eventLabel:t,eventValue:n})},se=function(){if(!F)return null;fetch(ce).then((function(e){return e.json()})).then((function(e){e.success?x(Z.concat(e.data)):B(null==e?void 0:e.message),G(z+1)})).catch((function(e){B("Error Retrieving Related Questions")}))},ue=function(){return Z.length>0?Z.filter((function(e){return null==e?void 0:e.slug})).slice(0,j).map((function(e,t){return l.createElement(g,{index:t,key:"".concat(e.id,"-").concat(t),onClick:function(){!function(e){if(!F)return null;ie("Click","".concat(v,",").concat(y),e)}(t)},question:e,lastItem:j==t+1,answerLengthForRelatedQs:n})})):Q?l.createElement("span",{className:"text-center body1"},Q):l.createElement("div",{key:"tempPlaceholder",className:"animate-pulse"},function(){for(var e=[],t=0;t<q;t++)e.push(l.createElement(l.Fragment,{key:"placeholdler-reactions-".concat(t),className:"relatedQHeight"},l.createElement("div",{className:"h-5 bg-charcoal rounded bg-opacity-30 w-1/3 my-2"}),l.createElement("div",{className:"space-y-2"},l.createElement("div",{className:"h-4 bg-charcoal rounded bg-opacity-30"}),l.createElement("div",{className:"h-4 bg-charcoal rounded bg-opacity-30 w-3/4"}),l.createElement("div",{className:"h-4 bg-charcoal rounded bg-opacity-30 w-1/2"}))));return e}())},me=function(e){return l.createElement("div",{className:"between-related-qs"},e)};te&&0!==Object.keys(ae).length&&(me=function(e){return(0,s.zo)(e,ae,!0)});var fe,de=[],he=l.createElement(l.Fragment,null);S&&(he=l.createElement("div",{className:"ml-6"},l.createElement("h6",null,function(){if(!Z)return[];for(var e=0;e<Z.length;e++)Z[e]&&Z[e].topics&&Z[e].topics.length>0&&(de=[].concat((0,r.Z)(de),[Z[e].topics]));var t,n=[],a=new Map,o=b(de);try{for(o.s();!(t=o.n()).done;){var i=t.value;if(!R&&a.length>=ee)break;a.has(i[0].slug)||(a.set(i[0].slug,!0),n.push(l.createElement("span",{key:i[0].slug,onClick:function(){ie("Topic clicked","Related question",n.length)}},l.createElement(c.Z,{href:"/t/"+i[0].slug},i[0].title))))}}catch(e){o.e(e)}finally{o.f()}return n}()))),R?(0==S&&k(!0),fe=ue()):fe=l.createElement(l.Fragment,null,Z.length>0&&te?me(ue()):ue());var ve=(0,i.Z)("related_questions_card_title","Related questions"),ge=!R&&!(0,i.Z)("max_q_page_inf_scroll",0);return l.createElement("div",{ref:H,className:"bg-white shadow-cardGlow mt-4 pt-4 pb-6 rounded"},l.createElement("div",{className:"flex items-center mx-6 justify-start"},l.createElement(E.Z,{bgClass:"bg-BGColor11",txtClass:"text-BGColor10"},ve)),l.createElement("div",{className:"mx-4"},fe,ge?function(){if(Z.length>0&&!Q)return l.createElement(u.Z,{className:"mt-2",onClick:function(){I(q*(z+1)),ie("Load More","".concat(X)),Y(X+1),se()}})}():null),he)}},85125:function(e,t,n){var r=n(67294);t.Z=function(e){return null!=e&&e.emoji?r.createElement("div",{className:"border border-solid border-primaryLight p-1 pr-2 pl-2 rounded ".concat(e.className),onClick:e.onClick},r.createElement("span",{className:"topicEmoji"},e.emoji),e.name&&r.createElement("span",{className:"text-xs text-primaryText"},e.name)):""}}}]);